!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("igVisualizer",[],t):"object"==typeof exports?exports.igVisualizer=t():e.igVisualizer=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkBuilder=t.Utils=t.OxfordFeature=t.Glycan=t.GlycoLogue=t.Composition=void 0;var o=n(1),r=i(o),u=n(2),c=i(u),a=n(3),s=i(a),l=n(5),f=i(l),h=n(6),d=i(h);t.Composition=r["default"],t.GlycoLogue=s["default"],t.Glycan=c["default"],t.OxfordFeature=s["default"],t.Utils=f["default"],t.NetworkBuilder=d["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){if(n(this,e),this._NeuGc=0,this._Hex=0,this._HexNAc=0,this._NeuAc=0,this._Fucose=0,this._Sulf=0,!t)throw new Error("Cannot create a new Composition");this._parseComposition(t)}return i(e,[{key:"calculateSize",value:function(){return this._Hex+this._Fucose+this._HexNAc+this._NeuAc+this._NeuGc+this._Sulf}},{key:"toString",value:function(){return"H"+this._Hex+"N"+this._HexNAc+"F"+this._Fucose+"S"+this._NeuAc+"G"+this._NeuGc+"s"+this.Sulf}},{key:"toStringNoZeros",value:function(){var e="";return 0!==parseInt(this._Hex)&&(e+="H"+this._Hex),0!==parseInt(this._HexNAc)&&(e+="N"+this._HexNAc),0!==parseInt(this._Fucose)&&(e+="F"+this._Fucose),0!==parseInt(this._NeuAc)&&(e+="S"+this._NeuAc),0!==parseInt(this._NeuGc)&&(e+="G"+this._NeuGc),0!==parseInt(this._Sulf)&&(e+="s"+this._Sulf),e}},{key:"toUnicarbLongEncoding",value:function(){return this._Hex+""+this._HexNAc+this._Fucose+this._NeuAc+this._NeuGc+"0"+this._Sulf+"0000000"}},{key:"_parseComposition",value:function(e){for(var t="",n=e.length;n--;)"H"==e[n]?(this._Hex=parseInt(t.split("").reverse().join("")),t=""):"N"==e[n]?(this._HexNAc=parseInt(t.split("").reverse().join("")),t=""):"F"==e[n]?(this._Fucose=parseInt(t.split("").reverse().join("")),t=""):"S"==e[n]?(this._NeuAc=parseInt(t.split("").reverse().join("")),t=""):"G"==e[n]?(this._NeuGc=parseInt(t.split("").reverse().join("")),t=""):"s"==e[n]?(this._Sulf=parseInt(t.split("").reverse().join("")),t=""):t=t.concat(e[n])}},{key:"Composition",get:function(){return this.toString()}},{key:"Hex",get:function(){return this._Hex}},{key:"HexNAc",get:function(){return this._HexNAc}},{key:"NeuAc",get:function(){return this._NeuAc}},{key:"NeuGc",get:function(){return this._NeuGc}},{key:"Fucose",get:function(){return this._Fucose}},{key:"Sulf",get:function(){return this._Sulf}}]),e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=i(u),a=n(3),s=(i(a),n(4)),l=(i(s),function(){function e(t){o(this,e),this._composition=new c["default"](t.composition),this._percentage=t.percentage}return r(e,[{key:"size",value:function(){this._composition.calculateSize()}},{key:"percentage",get:function(){return this._percentage}},{key:"composition",get:function(){return this._composition}}]),e}());t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){if(n(this,e),!t||9!=t.length)throw new Error("GlycoLogueId cannot be null or undefined");this._glycologueId=t}return i(e,[{key:"numberOfMannose",value:function(){return this._glycologueId[0]}},{key:"numberOfFucose",value:function(){return this._glycologueId[1]}},{key:"isBisectedBoolean",value:function(){return Boolean(this._glycologueId[2])}},{key:"isBisectedNumber",value:function(){return this._glycologueId[2]}},{key:"extensionFirstBranch",value:function(){return this._glycologueId[3]}},{key:"extensionSecondBranch",value:function(){return this._glycologueId[4]}},{key:"extensionThirdBranch",value:function(){return this._glycologueId[5]}},{key:"extensionFourthBranch",value:function(){return this._glycologueId[6]}},{key:"numberOfGalactose",value:function(){return this._glycologueId[7]}},{key:"numberOfSialicAcid",value:function(){return this._glycologueId[8]}},{key:"GlycoLogueId",get:function(){return this._glycologueId}}]),e}();t["default"]=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){if(n(this,e),!t||0===t.length)throw new Error("Cannot parse OxfordId");this._oxfordId=t,this._parseOxfordId(t)}return i(e,[{key:"_parseOxfordId",value:function(e){this._bisected=e.indexOf("B")!=-1,this._fucose=e.indexOf("F")!=-1,e.indexOf("S")!=-1?this._sialicAcid=e.charAt(e.indexOf("S")+1):this._sialicAcid=0,e.indexOf("A")!=-1?this._antennas=e.charAt(e.indexOf("A")+1):this._antennas=0,e.indexOf("G")!=-1?this._galactose=e.charAt(e.indexOf("G")+1):this._galactose=0,e.indexOf("M")!=-1?this._mannose=e.charAt(e.indexOf("M")+1):this._mannose=0}},{key:"oxfordId",get:function(){return this._oxfordId}},{key:"sialicAcid",get:function(){return this._sialicAcid}},{key:"antennas",get:function(){return this._antennas}},{key:"bisected",get:function(){return this._bisected}},{key:"fucose",get:function(){return this._fucose}},{key:"galactose",get:function(){return this._galactose}},{key:"mannose",get:function(){return this._mannose}}]),e}();t["default"]=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"buildSunBurstSequences",value:function(e,t){var n={},i=!0,o=!1,r=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var a=u.value,s="",l=!0,f=!1,h=void 0;try{for(var d,_=t[Symbol.iterator]();!(l=(d=_.next()).done);l=!0){var y=d.value;"galactose"==y?s+=this._checkGalactose(a):"fucose"==y?s+=this._checkFucose(a):"bisected"==y?s+=this._checkBisected(a):"mannose"==y?s+=this._checkMannose(a):"antenna"==y?s+=this._checkAntennas(a):"sialic_acid"==y&&(s+=this._checkSialicAcid(a))}}catch(g){f=!0,h=g}finally{try{!l&&_["return"]&&_["return"]()}finally{if(f)throw h}}var p=s.substr(0,s.length-1);p in n?n[p]=n[p]+a.percentage:n[p]=a.percentage}}catch(g){o=!0,r=g}finally{try{!i&&c["return"]&&c["return"]()}finally{if(o)throw r}}var v=[];for(var k in n){var x=[];x.push(k),x.push(n[k]),v.push(x)}return v}},{key:"_checkFucose",value:function(e){return e.oxfordFeature.fucose?"Fucose-":"NotFucose-"}},{key:"_checkBisected",value:function(e){return e.oxfordFeature.bisected?"Bisected-":"NotBisected-"}},{key:"_checkMannose",value:function(e){return 0!==e.oxfordFeature.mannose?"HighMannose-":"Not_HighMannose-"}},{key:"_checkAntennas",value:function(e){return"Antenna_"+e.oxfordFeature.antennas+"-"}},{key:"_checkGalactose",value:function(e){return"Galactose_"+e.oxfordFeature.galactose+"-"}},{key:"_checkSialicAcid",value:function(e){return"Sialic_"+e.oxfordFeature.SialicAcid+"-"}}]),e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),c=(i(u),function(){function e(){o(this,e)}return r(e,null,[{key:"buildJsonComposition",value:function(e){var t={};t.links=[],t.nodes=Object.keys(e).map(function(t){var n=e[t];return{name:n.composition.toStringNoZeros(),percentage:n.percentage,size:n.composition.calculateSize(),unicarbEncoding:n.composition.toUnicarbLongEncoding(),hexNAc:n.composition.HexNAc}});var n=0;for(var i in e){var o=e[i].composition.calculateSize(),r=0;for(var u in e){if(o+1==e[u].composition.calculateSize()&&1==this._levenshteinDistance(e[i].composition.toString(),e[u].composition.toString())){var c={source:n,target:r,difference:this._differenceMonosaccharide(e[u].composition,e[i].composition),value:1};t.links.push(c)}r++}n++}return t}},{key:"_levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;if(e.length>t.length){var n=e;e=t,t=n}for(var i=[],o=0;o<=e.length;o++)i[o]=o;for(var r=1;r<=t.length;r++){for(var u=r,c=1;c<=e.length;c++){var a;a=t.charAt(r-1)==e.charAt(c-1)?i[c-1]:Math.min(i[c-1]+1,u+1,i[c]+1),i[c-1]=u,u=a}i[e.length]=u}return i[e.length]}},{key:"_differenceMonosaccharide",value:function(e,t){return e.Fucose!=t.Fucose?"Fuc":e.Hex!=t.Hex?"Hex":e.HexNAc!=t.HexNAc?"HexNAc":e.NeuAc!=t.NeuAc?"NeuAc":e.NeuGc!=t.NeuGc?"NeuGc":e.Sulf!=t.Sulf?"Sulf":""}}]),e}());t["default"]=c}])});
//# sourceMappingURL=igVisualizer.min.js.map